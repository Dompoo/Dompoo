# 동시성 컬렉션이 필요한 이유

- 기본 컬렉션 프레임워크에서 제공하는 컬렉션들은 동시성이 고려되지 않는다.
- 이에 따른 문제점들이 발생한다.

```java
// ArrayList의 add(E e) 메서드 수도 코드

public void add(E e) {
    arr[index] = e;
    index++;
}
```

- 한 스레드에서 `index++`를 하기 전에 다른 스레드에서 삽입을 해버린다면?
  - 아마 같은 index에 두 값이 쓰이면서 첫번째 값이 덮어 씌워질 것이다.
- 이 밖에도 다른 컬렉션들도 스레드 세이프하지 않다.
- 참고 : `Vector`는 `synchronized`를 통한 동시성 문제가 해결되어있다. 단, 싱글스레드 환경에서도 동일하게 동기화에 의한 속도 저하가 있으므로, 사용이 권장되지 않는 것이다.
