# 스레드 풀 전략

- `corePoolSize`, `maximumPoolSize` 등을 조합하여 나에게 맞는 스레드 풀 전략을 선택적으로 사용할 수 있다.
- 자바는 3가지의 대표적인 기본 전략을 제공한다.

## 단일 스레드 풀 전략

```java
new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue<Runnable>());
```

- 스레드를 1개만 사용한다.
- 블로킹큐의 용량 제한이 없다.
- 간단한 테스트 용도 정도로 사용한다.

## 고정 스레드 풀 전략

```java
new ThreadPoolExecutor(N, N, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue<Runnable>());
```

- 초과 스레드를 생성하지 않는다.
- 블로킹큐의 용량 제한이 없다.
- 스레드 수가 고정되어 있기 때문에, 어느정도 리소스 사용이 예측되는 전략이다.
- 가장 안정적으로 서비스를 운영할 수 있다.
  - 단, 사용자가 점진적으로 늘어나면서 점점 느려질 수 있다.
  - 또한 사용자가 폭증하는 경우 **리소스 사용은 적으나, 스레드 개수 부족 때문에 사용자 경험이 안좋을 수 있다.**
- 따라서 처음부터 적절히 리소스 사용을 고려하여 스레드 개수를 잡는 것이 중요하다.
