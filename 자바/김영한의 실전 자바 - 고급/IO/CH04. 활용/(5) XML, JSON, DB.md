# XML, JSON, DB

## 객체 직렬화는 왜 망했을까?

- 먼저 버전관리가 어렵다.
  - 클래스 구조가 조금만 바뀌어도 기존 데이터를 전혀 쓸 수 없을 수 있다.
- 자바의 객체 직렬화는 자바 내부에서만 사용할 수 있다. 상호 운영성이 떨어진다.
- 성능이 안좋다.
- 직렬화 방법을 커스터마이징할 수 없다.
- 직렬화된 데이터의 크기가 크다.

## XML

```xml
<member>
 <id>id1</id>
 <name>name1</name>
 <age>20</age>
</member>
```

- 유연하고 플랫폼에 종속적이지 않다.
- 하지만, 복잡하고 무겁다.
  - 데이터의 양에 비해서 불필요한 정의 부분이 너무 크고 비용이 커진다.

## JSON

```json
{
    "member": {
        "id": "id1",
        "name": "name1",
        "age": 20
    }
}
```

- 가볍고 효율적이며 간결하다.
- 웹 API와 RESTful 서비스가 대중화되며 표준 데이터 교환 포맷으로 자리매김하였다.

## Protobuf, Avro

- `XML`, `JSON`은 문자 기반이기 때문에 읽기는 쉽지만 데이터의 크기가 크다.
- 이것이 고민된다면 `Protobuf`, `Avro` 같은 바이트 기반 포맷을 택할 수 있다.
- 하지만 사람이 읽기 어렵고, `JSON` 정도로도 충분한 성능이 나오는 경우가 많다.

## DB

- 위 방법들을 통하여 파일에 직접 데이터를 저장하는 것은 다음과 같은 문제점이 있다.
  - 무결성 보장이 어렵다. 여러 사용자가 접근할 때 일관성을 유지하기 어렵다.
  - 검색과 관리가 비효율적이다.
  - 보안이 좋지 않다. 파일만 뽑아가면 모든 정보가 털린다.
  - 대규모 데이터의 효율적인 백업과 복구가 필요하다.
- 위 같은 문제점을 해결하기 위해 현대에는 거의 모든 데이터를 데이터베이스에 저장한다.
- 데이터베이스는 데이터를 효율적으로 저장/수정/검색/삭제 하기 위한 솔루션이다.
- 또한 이 작업을 매우 안전하게, 일관적이게 수행할 수 있다.
