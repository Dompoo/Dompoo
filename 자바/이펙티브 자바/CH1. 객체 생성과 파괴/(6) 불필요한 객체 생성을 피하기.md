# 불필요한 객체 생성을 피하기

```java
String str = new String("hello world");
String str2 = "hello world";
```

- 첫번째 줄은 실행할 때마다 새로운 객체를 생성하는 코드이고, 아래는 같은 인스턴스를 여러번 사용할 수 있는 코드이다.
- 생성자는 매번 실행할 때마다 새로운 객체를 만들지만 **정적 팩터리 메서드는 구현에 따라 인스턴스를 재사용할 수 있다.(캐시)**
- **매번 생성하게 되면 성능에 좋지 않다.**
- 또한 오토박싱에 의하여 객체 생성이 되는 경우도 있다.

```java
private static long sum(int from, int to) {
    Long sum = 0;
    for (int i = from; i <= to; i++) {
        sum += i;
    }
    return sum;
}
```

- sum이 Long 타입이기 때문에, 해당 메서드를 호출할 때마다 객체가 생성된다.
- 오토박싱 때문에 이를 눈치채기 힘들다.

## 객체 재사용의 위험성

- 하지만 배열, 객체 등은 재사용하는 경우 여러 곳에서 수정될 위험이 있다.
- 따라서 객체 재사용은 **성능 vs 위험성**의 선택이다.
- 상황을 판단하여 적절하게 구현하자.
