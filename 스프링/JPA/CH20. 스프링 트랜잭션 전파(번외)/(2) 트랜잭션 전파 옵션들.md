# 트랜잭션 전파 옵션들

## REQUIRED (기본 값)

- 현재 트랜잭션이 존재하면 해당 트랜잭션을 사용한다. (참여)
- 존재하지 않으면 새로운 트랜잭션을 시작한다.
- **대부분 이것을 사용한다.**

## REQUIRES_NEW

- 항상 새로운 트랜잭션을 시작한다.
- 기존 트랜잭션이 존재하면 이를 일시 중단하고 새로운 트랜잭션을 실행한다.
- 따라서 두 트랜잭션 중 하나의 롤백이 다른 트랜잭션에 영향을 미치지 않는다.

## SUPPORTS

- 트랜잭션이 존재하면 해당 트랜잭션을 사용한다.
- 트랜잭션이 없으면 트랜잭션 없이 실행된다.

## NOT_SUPPORTED

- 항상 트랜잭션 없이 실행된다.
  - 기존 트랜잭션이 있는 경우에 해당 트랜잭션을 보류한다.
- 기존 트랜잭션이 존재하면 이를 일시 중단한다.

## MANDATORY

- 반드시 트랜잭션 내에서 실행되어야 한다.
- 트랜잭션이 존재하지 않으면 예외를 발생시킨다.

## NEVER

- 트랜잭션 없이 실행되어야 한다.
- 트랜잭션이 존재하면 예외를 발생시킨다.

## NESTED

- 트랜잭션이 존재하면 해당 트랜잭션 내에서 **중첩 트랜잭션**을 생성한다.
  - 중첩 트랜잭션은 외부 트랜잭션에게 영향을 받기만 하고, 주지는 않는다.
  - 즉, 중첩 트랜잭션이 롤백되어도 외부 트랜잭션은 커밋될 수 있다.
  - 외부 트랜잭션이 롤백되면 중첩 트랜잭션도 롤백된다.
- 트랜잭션이 없으면 새로운 트랜잭션을 시작한다.
- Savepoint를 활용하여 중첩된 트랜잭션에서 롤백이 가능하다.
