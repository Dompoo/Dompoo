### 락의 필요성
* 세션 1에서 어떤 데이터를 수정하는 동안, 세션 2에서 이 데이터에 접근한다고 해보자.
* 동시에 같은 데이터에 접근할 수 있어지면 원자성이 깨진다.
* 이런 문제를 방지하기 위해서, 트랜잭션이 시작하면 해당 데이터에 대해서는 접근할 수 없도록 해야 한다.

### 락의 동작 방법
* 한 세션에서 트랜잭션을 시작한다.
* DB의 한 로우에 접근하면 해당 **로우의 락**을 획득할 수 있다.
* 락이 있으므로 작업을 수행할 수 있다.
* 만약 한 세션이 락을 획득한 상황에서, 다른 세션이 해당 로우에 접근하려 한다면 대기해야 한다.
* 일정 시간 이상 대기하게 된다면 락 타임아웃 오류가 발생한다.(대기시간은 설정가능하다.)
* **트랜잭션이 종료되면 락을 반환**해준다.

### 락 조건
* 기본적으로 update와 같은 변경 기능에서만 락이 걸린다.
* select의 경우에는 보통 락이 걸리지 않는다.
* 단, select 시에도 락이 필요하다면(조회된 결과를 통해 매출 정산 등),
* 뒤에 for update를 붙여주면 된다!